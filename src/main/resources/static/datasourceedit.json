{
  "changeType": "update",
  "code": "epoch_app_data_source_edit",
  "metadataType": "page",
  "appCode": "epoch",
  "content": "{\n    \"active\": \"1\",\n    \"content\": {\n        \"schemaVersion\": \"1.1\",\n        \"componentCode\": \"ktHUlWTo\",\n        \"data\": {\n            \"component\": {\n                \"RxVFNPQe\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"selectDataBaseName\",\n                    \"id\": \"RxVFNPQe\",\n                    \"type\": \"Select\",\n                    \"events\": {},\n                    \"props\": {\n                        \"fieldName\": \"databaseName\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|databaseName\\\")||!data(\\\"Form2Ds|switchDatabaseName\\\")}\",\n                        \"hasClear\": false,\n                        \"required\": \"${data(\\\"FieldRequired|databaseName\\\")}\",\n                        \"mode\": \"single\",\n                        \"filterLocal\": true,\n                        \"showSearch\": false,\n                        \"fieldLabel\": \"Schema\",\n                        \"width\": \"full\",\n                        \"disabled\": false,\n                        \"style\": {\n                            \"margin\": \"0px 0px 0px 0px\",\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"请选择\",\n                        \"dataSource\": \"${data(\\\"appProperties\\\")}\"\n                    }\n                },\n                \"TEMnULAc\": {\n                    \"componentType\": \"datasource\",\n                    \"id\": \"TEMnULAc\",\n                    \"events\": {},\n                    \"props\": {\n                        \"data\": \"appProperties\",\n                        \"query\": {\n                            \"auto\": true,\n                            \"type\": \"request\",\n                            \"content\": \"appProperties/query\"\n                        },\n                        \"cname\": \"appProperties\"\n                    }\n                },\n                \"RhCgCpBe\": {\n                    \"componentType\": \"datasource\",\n                    \"id\": \"RhCgCpBe\",\n                    \"events\": {},\n                    \"props\": {\n                        \"filter\": \"(function wrapped(){ //$src$=$/**\\\\n* 全局过滤数据源中的数据\\\\n*/\\\\nfunction filter(data) {\\\\n  return data;\\\\n}$//\\n var _output_ = function filter(data) {\\n  return data;\\n};; return _output_;})()\",\n                        \"data\": \"_pageParam_\",\n                        \"cname\": \"页面参数\"\n                    }\n                },\n                \"FgYdMPEr\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"password\",\n                    \"id\": \"FgYdMPEr\",\n                    \"type\": \"Input\",\n                    \"events\": {},\n                    \"props\": {\n                        \"htmlType\": \"password\",\n                        \"fieldName\": \"password\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|password\\\")||data(\\\"Form2Ds|switchPassword\\\")}\",\n                        \"hasClear\": false,\n                        \"fieldLabel\": \"Password\",\n                        \"width\": \"full\",\n                        \"multiple\": false,\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"输入内容以修改\",\n                        \"required\": \"${data(\\\"Form2Ds|requirePassword\\\")}\"\n                    }\n                },\n                \"AbYKvbNQ\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"selectTDDLAppName\",\n                    \"id\": \"AbYKvbNQ\",\n                    \"type\": \"Select\",\n                    \"events\": {},\n                    \"props\": {\n                        \"fieldName\": \"tddlAppName\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|tddlAppName\\\")||!data(\\\"Form2Ds|switchTDDLAppName\\\")}\",\n                        \"hasClear\": false,\n                        \"required\": \"${data(\\\"FieldRequired|tddlAppName\\\")}\",\n                        \"mode\": \"single\",\n                        \"filterLocal\": true,\n                        \"showSearch\": false,\n                        \"fieldLabel\": \"TDDLAppName\",\n                        \"width\": \"full\",\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"disabled\": false,\n                        \"placeholder\": \"请选择\",\n                        \"dataSource\": \"${data(\\\"appProperties\\\")}\"\n                    }\n                },\n                \"cgBnVYUk\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"Button2\",\n                    \"id\": \"cgBnVYUk\",\n                    \"type\": \"Button\",\n                    \"events\": {},\n                    \"props\": {\n                        \"buttonType\": \"redirect\",\n                        \"size\": \"medium\",\n                        \"hidden\": false,\n                        \"tooltip\": \"\",\n                        \"warning\": false,\n                        \"_redirect\": {\n                            \"page\": \"epoch_app_data_source_list_2\",\n                            \"params\": [\n                                {\n                                    \"value\": \"${data(\\\"_pageParam_|appCode\\\")}\",\n                                    \"key\": \"appCode\"\n                                }\n                            ],\n                            \"openType\": \"current\"\n                        },\n                        \"text\": \"取消\",\n                        \"ifText\": false,\n                        \"type\": \"normal\"\n                    }\n                },\n                \"bMcqgDRJ\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"switchDatabaseName\",\n                    \"id\": \"bMcqgDRJ\",\n                    \"type\": \"Switch\",\n                    \"events\": {\n                        \"onChange\": \"onSwitchDatabaseName\"\n                    },\n                    \"props\": {\n                        \"fieldName\": \"switchDatabaseName\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|databaseName\\\")}\",\n                        \"fieldLabel\": \"变量\",\n                        \"disabled\": false,\n                        \"style\": {\n                            \"margin\": \"1px 0px 0px 0px\",\n                            \"height\": \"28px\"\n                        }\n                    }\n                },\n                \"jgSbJVrI\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"Div1\",\n                    \"id\": \"jgSbJVrI\",\n                    \"type\": \"Div\",\n                    \"events\": {},\n                    \"props\": {\n                        \"hidden\": false,\n                        \"style\": {\n                            \"padding\": \"10px\"\n                        }\n                    }\n                },\n                \"GizuyVdZ\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"FormButtonBar1\",\n                    \"id\": \"GizuyVdZ\",\n                    \"type\": \"FormButtonBar\",\n                    \"events\": {},\n                    \"props\": {\n                        \"hidden\": false\n                    }\n                },\n                \"heMAeiZW\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"FormPassword\",\n                    \"id\": \"heMAeiZW\",\n                    \"type\": \"Form\",\n                    \"events\": {},\n                    \"props\": {\n                        \"_dataSource\": \"${datasource(\\\"Form2Ds\\\")}\",\n                        \"hidden\": false,\n                        \"readonly\": false,\n                        \"inline\": false,\n                        \"labelAlign\": \"left\",\n                        \"labelTextAlign\": \"right\",\n                        \"style\": {\n                            \"margin\": \"0 0 0 850px\",\n                            \"width\": \"300px\",\n                            \"height\": \"0\"\n                        }\n                    }\n                },\n                \"zVtnjfTU\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"FormPort\",\n                    \"id\": \"zVtnjfTU\",\n                    \"type\": \"Form\",\n                    \"events\": {},\n                    \"props\": {\n                        \"_dataSource\": \"${datasource(\\\"Form2Ds\\\")}\",\n                        \"hidden\": false,\n                        \"readonly\": false,\n                        \"inline\": false,\n                        \"labelAlign\": \"left\",\n                        \"labelTextAlign\": \"right\",\n                        \"style\": {\n                            \"margin\": \"0 0 0 850px\",\n                            \"width\": \"300px\",\n                            \"height\": \"0\"\n                        }\n                    }\n                },\n                \"lbPSFFGJ\": {\n                    \"componentType\": \"datasource\",\n                    \"id\": \"lbPSFFGJ\",\n                    \"props\": {\n                        \"data\": \"Form2Ds\",\n                        \"reserved\": true,\n                        \"origin\": \"zVtnjfTU\",\n                        \"cname\": \"Form2数据\"\n                    }\n                },\n                \"GbUUUoSS\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"name\",\n                    \"id\": \"GbUUUoSS\",\n                    \"type\": \"Input\",\n                    \"events\": {},\n                    \"props\": {\n                        \"htmlType\": \"text\",\n                        \"fieldName\": \"name\",\n                        \"hidden\": false,\n                        \"hasClear\": false,\n                        \"multiple\": false,\n                        \"_exceedMaxLength\": \"error\",\n                        \"addonAfter\": \"\",\n                        \"required\": true,\n                        \"help\": \"\",\n                        \"size\": \"medium\",\n                        \"labelAlign\": \"left\",\n                        \"fieldLabel\": \"名称\",\n                        \"width\": \"full\",\n                        \"labelTextAlign\": \"right\",\n                        \"disabled\": false,\n                        \"placeholder\": \"\",\n                        \"addonBefore\": \"\",\n                        \"_maxLength\": 50\n                    }\n                },\n                \"XTZxpPLk\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"dbGroupKeys\",\n                    \"id\": \"XTZxpPLk\",\n                    \"type\": \"Select\",\n                    \"events\": {},\n                    \"props\": {\n                        \"fieldName\": \"dbGroupKeys\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|dbGroupKeys\\\")||data(\\\"Form2Ds|switchDBGroupKeys\\\")}\",\n                        \"hasClear\": false,\n                        \"required\": \"${data(\\\"FieldRequired|dbGroupKeys\\\")}\",\n                        \"mode\": \"tag\",\n                        \"filterLocal\": true,\n                        \"showSearch\": false,\n                        \"fieldLabel\": \"DBGroupKeys\",\n                        \"width\": \"full\",\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"请输入\",\n                        \"dataSource\": []\n                    }\n                },\n                \"SdxXVYHW\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"tddlAppName\",\n                    \"id\": \"SdxXVYHW\",\n                    \"type\": \"Input\",\n                    \"events\": {},\n                    \"props\": {\n                        \"htmlType\": \"text\",\n                        \"fieldName\": \"tddlAppName\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|tddlAppName\\\")||data(\\\"Form2Ds|switchTDDLAppName\\\")}\",\n                        \"hasClear\": false,\n                        \"fieldLabel\": \"TDDLAppName\",\n                        \"width\": \"full\",\n                        \"multiple\": false,\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"\",\n                        \"required\": \"${data(\\\"FieldRequired|tddlAppName\\\")}\"\n                    }\n                },\n                \"KxctCLWR\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"selectServer\",\n                    \"id\": \"KxctCLWR\",\n                    \"type\": \"Select\",\n                    \"events\": {},\n                    \"props\": {\n                        \"fieldName\": \"server\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|server\\\")||!data(\\\"Form2Ds|switchServer\\\")}\",\n                        \"hasClear\": false,\n                        \"required\": \"${data(\\\"FieldRequired|server\\\")}\",\n                        \"mode\": \"single\",\n                        \"filterLocal\": true,\n                        \"showSearch\": false,\n                        \"fieldLabel\": \"Server\",\n                        \"width\": \"full\",\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"请选择\",\n                        \"dataSource\": \"${data(\\\"appProperties\\\")}\"\n                    }\n                },\n                \"OTnOsIRj\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"dbType\",\n                    \"id\": \"OTnOsIRj\",\n                    \"type\": \"Select\",\n                    \"events\": {\n                        \"onChange\": \"onChangeDriverType\"\n                    },\n                    \"props\": {\n                        \"fieldName\": \"dbType\",\n                        \"hidden\": false,\n                        \"hasClear\": false,\n                        \"required\": true,\n                        \"mode\": \"single\",\n                        \"help\": \"\",\n                        \"labelAlign\": \"left\",\n                        \"fieldLabel\": \"数据源类型\",\n                        \"width\": \"full\",\n                        \"labelTextAlign\": \"right\",\n                        \"disabled\": false,\n                        \"placeholder\": \"请选择\",\n                        \"dataSource\": [\n                            {\n                                \"label\": \"MongoDB\",\n                                \"value\": \"mongo\"\n                            },\n                            {\n                                \"label\": \"TDDL\",\n                                \"value\": \"tddl\"\n                            },\n                            {\n                                \"label\": \"RDS\",\n                                \"value\": \"rds\"\n                            },\n                            {\n                                \"label\": \"DRDS\",\n                                \"value\": \"drds\"\n                            },\n                            {\n                                \"label\": \"ElasticSearch\",\n                                \"value\": \"elasticsearch\"\n                            }\n                        ]\n                    }\n                },\n                \"NzVvmGSK\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"FormTDDLAppName\",\n                    \"id\": \"NzVvmGSK\",\n                    \"type\": \"Form\",\n                    \"events\": {},\n                    \"props\": {\n                        \"_dataSource\": \"${datasource(\\\"Form2Ds\\\")}\",\n                        \"hidden\": false,\n                        \"readonly\": false,\n                        \"inline\": false,\n                        \"labelAlign\": \"left\",\n                        \"labelTextAlign\": \"right\",\n                        \"style\": {\n                            \"margin\": \"0 0 0 850px\",\n                            \"width\": \"300px\",\n                            \"height\": \"0\"\n                        }\n                    }\n                },\n                \"nMVwrFHM\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"username\",\n                    \"id\": \"nMVwrFHM\",\n                    \"type\": \"Input\",\n                    \"events\": {},\n                    \"props\": {\n                        \"htmlType\": \"text\",\n                        \"fieldName\": \"username\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|username\\\")||data(\\\"Form2Ds|switchUsername\\\")}\",\n                        \"hasClear\": false,\n                        \"fieldLabel\": \"Username\",\n                        \"width\": \"full\",\n                        \"multiple\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"disabled\": false,\n                        \"placeholder\": \"\",\n                        \"required\": \"${data(\\\"FieldRequired|username\\\")}\"\n                    }\n                },\n                \"aKEocboq\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"Button1\",\n                    \"id\": \"aKEocboq\",\n                    \"type\": \"Button\",\n                    \"events\": {},\n                    \"props\": {\n                        \"hidden\": false,\n                        \"_service\": \"aKEocboq/update\",\n                        \"tooltip\": \"\",\n                        \"_bindService\": {\n                            \"mode\": \"service\",\n                            \"service\": \"aKEocboq/update\",\n                            \"value\": {\n                                \"serviceType\": \"api\",\n                                \"output\": [],\n                                \"input\": [],\n                                \"code\": \"epoch_app_data_source_update\",\n                                \"name\": \"更新应用数据源 (epoch_app_data_source_update)\",\n                                \"appCode\": \"epoch\"\n                            }\n                        },\n                        \"type\": \"primary\",\n                        \"_dataSource\": \"${datasource(\\\"Form1Ds\\\")}\",\n                        \"buttonType\": \"submit\",\n                        \"size\": \"medium\",\n                        \"warning\": false,\n                        \"text\": \"提交\",\n                        \"ifText\": false,\n                        \"successTo\": {\n                            \"page\": \"epoch_app_data_source_list_2\",\n                            \"params\": [\n                                {\n                                    \"value\": \"${data(\\\"_pageParam_|appCode\\\")}\",\n                                    \"key\": \"appCode\"\n                                }\n                            ],\n                            \"openType\": \"current\"\n                        },\n                        \"_bindForm\": \"ElVNvaKo\"\n                    }\n                },\n                \"qKFEIiJr\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"appCode\",\n                    \"id\": \"qKFEIiJr\",\n                    \"type\": \"Input\",\n                    \"events\": {},\n                    \"props\": {\n                        \"htmlType\": \"text\",\n                        \"fieldName\": \"appCode\",\n                        \"size\": \"medium\",\n                        \"hidden\": false,\n                        \"hasClear\": false,\n                        \"defaultValue\": \"${data(\\\"_pageParam_|appCode\\\")}\",\n                        \"fieldLabel\": \"应用编码\",\n                        \"width\": \"full\",\n                        \"multiple\": false,\n                        \"disabled\": true,\n                        \"placeholder\": \"${data(\\\"_pageParam_|appCode\\\")}\"\n                    }\n                },\n                \"UNttXCrj\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"FormDataBaseName\",\n                    \"id\": \"UNttXCrj\",\n                    \"type\": \"Form\",\n                    \"events\": {},\n                    \"props\": {\n                        \"_dataSource\": \"${datasource(\\\"Form2Ds\\\")}\",\n                        \"hidden\": false,\n                        \"readonly\": false,\n                        \"inline\": false,\n                        \"labelAlign\": \"left\",\n                        \"labelTextAlign\": \"right\",\n                        \"style\": {\n                            \"margin\": \"0 0 0 850px\",\n                            \"width\": \"300px\",\n                            \"height\": \"0\"\n                        }\n                    }\n                },\n                \"ZVFNQrCX\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"selectPassword\",\n                    \"id\": \"ZVFNQrCX\",\n                    \"type\": \"Select\",\n                    \"events\": {},\n                    \"props\": {\n                        \"fieldName\": \"password\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|password\\\")||!data(\\\"Form2Ds|switchPassword\\\")}\",\n                        \"hasClear\": false,\n                        \"required\": \"${data(\\\"Form2Ds|requirePassword\\\")}\",\n                        \"mode\": \"single\",\n                        \"filterLocal\": true,\n                        \"showSearch\": false,\n                        \"fieldLabel\": \"Password\",\n                        \"width\": \"full\",\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"请选择\",\n                        \"dataSource\": \"${data(\\\"appProperties\\\")}\"\n                    }\n                },\n                \"IpDIcrsI\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"switchServer\",\n                    \"id\": \"IpDIcrsI\",\n                    \"type\": \"Switch\",\n                    \"events\": {\n                        \"onChange\": \"onSwitchServer\"\n                    },\n                    \"props\": {\n                        \"fieldName\": \"switchServer\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|server\\\")}\",\n                        \"fieldLabel\": \"变量\",\n                        \"disabled\": false,\n                        \"style\": {}\n                    }\n                },\n                \"KcZGEFpm\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"selectUsername\",\n                    \"id\": \"KcZGEFpm\",\n                    \"type\": \"Select\",\n                    \"events\": {},\n                    \"props\": {\n                        \"fieldName\": \"username\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|username\\\")||!data(\\\"Form2Ds|switchUsername\\\")}\",\n                        \"hasClear\": false,\n                        \"required\": \"${data(\\\"FieldRequired|username\\\")}\",\n                        \"mode\": \"single\",\n                        \"filterLocal\": true,\n                        \"showSearch\": false,\n                        \"fieldLabel\": \"Username\",\n                        \"width\": \"full\",\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"请选择\",\n                        \"dataSource\": \"${data(\\\"appProperties\\\")}\"\n                    }\n                },\n                \"LMFwaZhu\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"code\",\n                    \"id\": \"LMFwaZhu\",\n                    \"type\": \"Input\",\n                    \"events\": {},\n                    \"props\": {\n                        \"htmlType\": \"text\",\n                        \"fieldName\": \"code\",\n                        \"hidden\": false,\n                        \"hasClear\": false,\n                        \"multiple\": false,\n                        \"_exceedMaxLength\": \"error\",\n                        \"_customValidator\": \"(function wrapped(){ //$src$=$function validator(rule, value, callback) {\\\\n  if (value) {\\\\n    if (/^[a-zA-Z][a-zA-Z0-9_]*$/.test(value) && /^.*[a-zA-Z].*$/.test(value)) {\\\\n      callback();\\\\n    } else {\\\\n      callback(' 仅支持字母、数字、下划线，且以字母开头');\\\\n    }\\\\n  } else {\\\\n    callback();\\\\n  }\\\\n  \\\\n}$//\\n var _output_ = function validator(rule, value, callback) {\\n  if (value) {\\n    if (/^[a-zA-Z][a-zA-Z0-9_]*$/.test(value) && /^.*[a-zA-Z].*$/.test(value)) {\\n      callback();\\n    } else {\\n      callback(' 仅支持字母、数字、下划线，且以字母开头');\\n    }\\n  } else {\\n    callback();\\n  }\\n};; return _output_;})()\",\n                        \"addonAfter\": \"\",\n                        \"required\": false,\n                        \"help\": \"\",\n                        \"size\": \"medium\",\n                        \"labelAlign\": \"left\",\n                        \"fieldLabel\": \"编码\",\n                        \"width\": \"full\",\n                        \"labelTextAlign\": \"right\",\n                        \"disabled\": true,\n                        \"placeholder\": \"\",\n                        \"addonBefore\": \"\",\n                        \"_maxLength\": 50\n                    }\n                },\n                \"RvKouCtK\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"FormDBGroupKeys\",\n                    \"id\": \"RvKouCtK\",\n                    \"type\": \"Form\",\n                    \"events\": {},\n                    \"props\": {\n                        \"_dataSource\": \"${datasource(\\\"Form2Ds\\\")}\",\n                        \"hidden\": false,\n                        \"readonly\": false,\n                        \"inline\": false,\n                        \"labelAlign\": \"left\",\n                        \"labelTextAlign\": \"right\",\n                        \"style\": {\n                            \"margin\": \"0 0 0 850px\",\n                            \"width\": \"300px\",\n                            \"height\": \"0\"\n                        }\n                    }\n                },\n                \"XerCdKHH\": {\n                    \"componentType\": \"datasource\",\n                    \"id\": \"XerCdKHH\",\n                    \"props\": {\n                        \"hidden\": true,\n                        \"data\": \"Form1Ds\",\n                        \"origin\": \"ElVNvaKo\",\n                        \"query\": {\n                            \"type\": \"request\",\n                            \"content\": \"Form1Ds/query\"\n                        },\n                        \"cname\": \"Form1数据\",\n                        \"insert\": {},\n                        \"update\": {},\n                        \"fields\": {},\n                        \"delete\": {}\n                    }\n                },\n                \"khUhAkvD\": {\n                    \"componentType\": \"datasource\",\n                    \"id\": \"khUhAkvD\",\n                    \"props\": {\n                        \"hidden\": true,\n                        \"data\": \"driverTypeDs\",\n                        \"origin\": \"OTnOsIRj\",\n                        \"query\": {\n                            \"type\": \"request\",\n                            \"content\": \"driverTypeDs/query\"\n                        },\n                        \"cname\": \"driverType数据\",\n                        \"insert\": {},\n                        \"update\": {},\n                        \"fields\": {},\n                        \"delete\": {}\n                    }\n                },\n                \"shRqhwfE\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"switchUsername\",\n                    \"id\": \"shRqhwfE\",\n                    \"type\": \"Switch\",\n                    \"events\": {\n                        \"onChange\": \"onSwitchUsername\"\n                    },\n                    \"props\": {\n                        \"fieldName\": \"switchUsername\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|username\\\")}\",\n                        \"fieldLabel\": \"变量\",\n                        \"disabled\": false\n                    }\n                },\n                \"aHfLNzoI\": {\n                    \"componentType\": \"datasource\",\n                    \"id\": \"aHfLNzoI\",\n                    \"events\": {},\n                    \"props\": {\n                        \"data\": \"FieldRequired\",\n                        \"cname\": \"FieldRequired\"\n                    }\n                },\n                \"dkPKCSTu\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"Button3\",\n                    \"id\": \"dkPKCSTu\",\n                    \"type\": \"Button\",\n                    \"events\": {\n                        \"onClick\": \"onClickTestConn\"\n                    },\n                    \"props\": {\n                        \"buttonType\": \"common\",\n                        \"size\": \"medium\",\n                        \"hidden\": false,\n                        \"tooltip\": \"\",\n                        \"warning\": false,\n                        \"ifText\": false,\n                        \"text\": \"测试连接\",\n                        \"type\": \"normal\",\n                        \"showLoading\": false\n                    }\n                },\n                \"nptkDCee\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"switchPort\",\n                    \"id\": \"nptkDCee\",\n                    \"type\": \"Switch\",\n                    \"events\": {\n                        \"onChange\": \"onSwitchPort\"\n                    },\n                    \"props\": {\n                        \"fieldName\": \"switchPort\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|port\\\")}\",\n                        \"fieldLabel\": \"变量\",\n                        \"disabled\": false,\n                        \"style\": {}\n                    }\n                },\n                \"HwnsqhEN\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"server\",\n                    \"id\": \"HwnsqhEN\",\n                    \"type\": \"Input\",\n                    \"events\": {},\n                    \"props\": {\n                        \"htmlType\": \"text\",\n                        \"fieldName\": \"server\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|server\\\")||data(\\\"Form2Ds|switchServer\\\")}\",\n                        \"hasClear\": false,\n                        \"fieldLabel\": \"Server\",\n                        \"width\": \"full\",\n                        \"multiple\": false,\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"\",\n                        \"required\": \"${data(\\\"FieldRequired|server\\\")}\"\n                    }\n                },\n                \"VQkyKNwW\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"port\",\n                    \"id\": \"VQkyKNwW\",\n                    \"type\": \"Input\",\n                    \"events\": {},\n                    \"props\": {\n                        \"htmlType\": \"text\",\n                        \"fieldName\": \"port\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|port\\\")||data(\\\"Form2Ds|switchPort\\\")}\",\n                        \"hasClear\": false,\n                        \"fieldLabel\": \"Port\",\n                        \"width\": \"full\",\n                        \"multiple\": false,\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"\",\n                        \"required\": \"${data(\\\"FieldRequired|port\\\")}\"\n                    }\n                },\n                \"tjsqhNSf\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"selectPort\",\n                    \"id\": \"tjsqhNSf\",\n                    \"type\": \"Select\",\n                    \"events\": {},\n                    \"props\": {\n                        \"fieldName\": \"port\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|port\\\")||!data(\\\"Form2Ds|switchPort\\\")}\",\n                        \"hasClear\": false,\n                        \"required\": \"${data(\\\"FieldRequired|port\\\")}\",\n                        \"mode\": \"single\",\n                        \"filterLocal\": true,\n                        \"showSearch\": false,\n                        \"fieldLabel\": \"Port\",\n                        \"width\": \"full\",\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"请选择\",\n                        \"dataSource\": \"${data(\\\"appProperties\\\")}\"\n                    }\n                },\n                \"LiKquqNl\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"switchTDDLAppName\",\n                    \"id\": \"LiKquqNl\",\n                    \"type\": \"Switch\",\n                    \"events\": {\n                        \"onChange\": \"onSwitchTddlAppName\"\n                    },\n                    \"props\": {\n                        \"fieldName\": \"switchTDDLAppName\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|tddlAppName\\\")}\",\n                        \"fieldLabel\": \"变量\",\n                        \"disabled\": false\n                    }\n                },\n                \"vYaZAmRf\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"databaseName\",\n                    \"id\": \"vYaZAmRf\",\n                    \"type\": \"Input\",\n                    \"events\": {},\n                    \"props\": {\n                        \"htmlType\": \"text\",\n                        \"fieldName\": \"databaseName\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|databaseName\\\")||data(\\\"Form2Ds|switchDatabaseName\\\")}\",\n                        \"hasClear\": false,\n                        \"fieldLabel\": \"Schema\",\n                        \"width\": \"full\",\n                        \"multiple\": false,\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"\",\n                        \"required\": \"${data(\\\"FieldRequired|databaseName\\\")}\"\n                    }\n                },\n                \"gxvWRhDE\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"FormUsername\",\n                    \"id\": \"gxvWRhDE\",\n                    \"type\": \"Form\",\n                    \"events\": {},\n                    \"props\": {\n                        \"_dataSource\": \"${datasource(\\\"Form2Ds\\\")}\",\n                        \"hidden\": false,\n                        \"readonly\": false,\n                        \"inline\": false,\n                        \"labelAlign\": \"left\",\n                        \"labelTextAlign\": \"right\",\n                        \"style\": {\n                            \"margin\": \"0 0 0 850px\",\n                            \"width\": \"300px\",\n                            \"height\": \"0\"\n                        }\n                    }\n                },\n                \"zbyDyYiQ\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"switchDBGroupKeys\",\n                    \"id\": \"zbyDyYiQ\",\n                    \"type\": \"Switch\",\n                    \"events\": {\n                        \"onChange\": \"onSwitchDbGroupKeys\"\n                    },\n                    \"props\": {\n                        \"fieldName\": \"switchDBGroupKeys\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|dbGroupKeys\\\")}\",\n                        \"fieldLabel\": \"变量\",\n                        \"disabled\": false\n                    }\n                },\n                \"ElVNvaKo\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"Form1\",\n                    \"id\": \"ElVNvaKo\",\n                    \"type\": \"Form\",\n                    \"events\": {},\n                    \"props\": {\n                        \"_queryService\": {\n                            \"mode\": \"service\",\n                            \"value\": {\n                                \"serviceType\": \"api\",\n                                \"output\": [\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"_id\",\n                                        \"type\": \"string\",\n                                        \"value\": \"$.getUniqueRecord._id\"\n                                    },\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"code\",\n                                        \"type\": \"string\",\n                                        \"value\": \"$.getUniqueRecord.code\"\n                                    },\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"name\",\n                                        \"type\": \"string\",\n                                        \"value\": \"$.getUniqueRecord.name\"\n                                    },\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"appCode\",\n                                        \"type\": \"string\",\n                                        \"value\": \"$.getUniqueRecord.appCode\"\n                                    },\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"driverType\",\n                                        \"type\": \"string\",\n                                        \"value\": \"$.getUniqueRecord.driverType\"\n                                    },\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"server\",\n                                        \"type\": \"string\",\n                                        \"value\": \"$.getUniqueRecord.database.server\"\n                                    },\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"databaseName\",\n                                        \"type\": \"string\",\n                                        \"value\": \"$.getUniqueRecord.database.databaseName\"\n                                    },\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"username\",\n                                        \"type\": \"string\",\n                                        \"value\": \"$.getUniqueRecord.database.username\"\n                                    },\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"tddlAppName\",\n                                        \"type\": \"string\",\n                                        \"value\": \"$.getUniqueRecord.database.tddlAppName\"\n                                    },\n                                    {\n                                        \"children\": [],\n                                        \"name\": \"dbGroupKeys\",\n                                        \"type\": \"array\",\n                                        \"value\": \"$.getUniqueRecord.database.dbGroupKeys\"\n                                    }\n                                ],\n                                \"input\": [\n                                    {\n                                        \"bind\": \"${data(\\\"_pageParam_|_id\\\")}\",\n                                        \"name\": \"_id\",\n                                        \"type\": \"string\"\n                                    }\n                                ],\n                                \"code\": \"epoch_app_data_source_get\",\n                                \"name\": \"查询应用数据源记录 (epoch_app_data_source_get)\",\n                                \"appCode\": \"epoch\"\n                            },\n                            \"ds\": \"Form1Ds\"\n                        },\n                        \"_dataSource\": \"${datasource(\\\"Form1Ds\\\")}\",\n                        \"hidden\": false,\n                        \"inline\": false,\n                        \"autoQuery\": true,\n                        \"style\": {\n                            \"padding\": \"0px 200px 0px 0px\"\n                        }\n                    }\n                },\n                \"kcymHXPS\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"BreadCrumb1\",\n                    \"id\": \"kcymHXPS\",\n                    \"type\": \"BreadCrumb\",\n                    \"events\": {},\n                    \"props\": {\n                        \"linkArray\": [\n                            {\n                                \"label\": \"编辑应用数据源\"\n                            }\n                        ],\n                        \"style\": {},\n                        \"buttonArray\": []\n                    }\n                },\n                \"AHgCcCDS\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"FormServer\",\n                    \"id\": \"AHgCcCDS\",\n                    \"type\": \"Form\",\n                    \"events\": {},\n                    \"props\": {\n                        \"_dataSource\": \"${datasource(\\\"Form2Ds\\\")}\",\n                        \"hidden\": false,\n                        \"readonly\": false,\n                        \"inline\": false,\n                        \"labelAlign\": \"left\",\n                        \"labelTextAlign\": \"right\",\n                        \"style\": {\n                            \"margin\": \"0 0 0 850px\",\n                            \"width\": \"300px\",\n                            \"height\": \"0\"\n                        }\n                    }\n                },\n                \"QaufKcpS\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"switchPassword\",\n                    \"id\": \"QaufKcpS\",\n                    \"type\": \"Switch\",\n                    \"events\": {\n                        \"onChange\": \"onSwitchPassword\"\n                    },\n                    \"props\": {\n                        \"fieldName\": \"switchPassword\",\n                        \"size\": \"medium\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|password\\\")}\",\n                        \"fieldLabel\": \"变量\",\n                        \"disabled\": false\n                    }\n                },\n                \"GdIFiBzg\": {\n                    \"componentType\": \"code\",\n                    \"name\": \"selectDBGroupKeys\",\n                    \"id\": \"GdIFiBzg\",\n                    \"type\": \"Select\",\n                    \"events\": {},\n                    \"props\": {\n                        \"fieldName\": \"dbGroupKeys\",\n                        \"hidden\": \"${!data(\\\"FieldRequired|dbGroupKeys\\\")||!data(\\\"Form2Ds|switchDBGroupKeys\\\")}\",\n                        \"hasClear\": false,\n                        \"required\": \"${data(\\\"FieldRequired|dbGroupKeys\\\")}\",\n                        \"mode\": \"multiple\",\n                        \"filterLocal\": true,\n                        \"showSearch\": false,\n                        \"fieldLabel\": \"DBGroupKeys\",\n                        \"width\": \"full\",\n                        \"disabled\": false,\n                        \"style\": {\n                            \"width\": \"600px\"\n                        },\n                        \"placeholder\": \"请选择\",\n                        \"dataSource\": \"${data(\\\"appProperties\\\")}\"\n                    }\n                }\n            },\n            \"layout\": [\n                {\n                    \"id\": \"kcymHXPS\"\n                },\n                {\n                    \"id\": \"jgSbJVrI\",\n                    \"children\": [\n                        {\n                            \"id\": \"ElVNvaKo\",\n                            \"children\": [\n                                {\n                                    \"id\": \"LMFwaZhu\"\n                                },\n                                {\n                                    \"id\": \"GbUUUoSS\"\n                                },\n                                {\n                                    \"id\": \"qKFEIiJr\"\n                                },\n                                {\n                                    \"id\": \"OTnOsIRj\"\n                                },\n                                {\n                                    \"id\": \"AHgCcCDS\",\n                                    \"children\": [\n                                        {\n                                            \"id\": \"IpDIcrsI\"\n                                        }\n                                    ]\n                                },\n                                {\n                                    \"id\": \"KxctCLWR\"\n                                },\n                                {\n                                    \"id\": \"HwnsqhEN\"\n                                },\n                                {\n                                    \"id\": \"zVtnjfTU\",\n                                    \"children\": [\n                                        {\n                                            \"id\": \"nptkDCee\"\n                                        }\n                                    ]\n                                },\n                                {\n                                    \"id\": \"tjsqhNSf\"\n                                },\n                                {\n                                    \"id\": \"VQkyKNwW\"\n                                },\n                                {\n                                    \"id\": \"UNttXCrj\",\n                                    \"children\": [\n                                        {\n                                            \"id\": \"bMcqgDRJ\"\n                                        }\n                                    ]\n                                },\n                                {\n                                    \"id\": \"RxVFNPQe\"\n                                },\n                                {\n                                    \"id\": \"vYaZAmRf\"\n                                },\n                                {\n                                    \"id\": \"gxvWRhDE\",\n                                    \"children\": [\n                                        {\n                                            \"id\": \"shRqhwfE\"\n                                        }\n                                    ]\n                                },\n                                {\n                                    \"id\": \"KcZGEFpm\"\n                                },\n                                {\n                                    \"id\": \"nMVwrFHM\"\n                                },\n                                {\n                                    \"id\": \"heMAeiZW\",\n                                    \"children\": [\n                                        {\n                                            \"id\": \"QaufKcpS\"\n                                        }\n                                    ]\n                                },\n                                {\n                                    \"id\": \"ZVFNQrCX\"\n                                },\n                                {\n                                    \"id\": \"FgYdMPEr\"\n                                },\n                                {\n                                    \"id\": \"NzVvmGSK\",\n                                    \"children\": [\n                                        {\n                                            \"id\": \"LiKquqNl\"\n                                        }\n                                    ]\n                                },\n                                {\n                                    \"id\": \"AbYKvbNQ\"\n                                },\n                                {\n                                    \"id\": \"SdxXVYHW\"\n                                },\n                                {\n                                    \"id\": \"RvKouCtK\",\n                                    \"children\": [\n                                        {\n                                            \"id\": \"zbyDyYiQ\"\n                                        }\n                                    ]\n                                },\n                                {\n                                    \"id\": \"GdIFiBzg\"\n                                },\n                                {\n                                    \"id\": \"XTZxpPLk\"\n                                },\n                                {\n                                    \"id\": \"GizuyVdZ\",\n                                    \"children\": [\n                                        {\n                                            \"id\": \"aKEocboq\"\n                                        },\n                                        {\n                                            \"id\": \"dkPKCSTu\"\n                                        },\n                                        {\n                                            \"id\": \"cgBnVYUk\"\n                                        }\n                                    ]\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ],\n            \"model\": {\n                \"Form1Model\": {\n                    \"field\": {\n                        \"server\": {\n                            \"children\": [],\n                            \"name\": \"server\",\n                            \"cname\": \"server\",\n                            \"type\": \"string\",\n                            \"value\": \"$.getUniqueRecord.database.server\"\n                        },\n                        \"code\": {\n                            \"children\": [],\n                            \"name\": \"code\",\n                            \"cname\": \"code\",\n                            \"type\": \"string\",\n                            \"value\": \"$.getUniqueRecord.code\"\n                        },\n                        \"databaseName\": {\n                            \"children\": [],\n                            \"name\": \"databaseName\",\n                            \"cname\": \"databaseName\",\n                            \"type\": \"string\",\n                            \"value\": \"$.getUniqueRecord.database.databaseName\"\n                        },\n                        \"name\": {\n                            \"children\": [],\n                            \"name\": \"name\",\n                            \"cname\": \"name\",\n                            \"type\": \"string\",\n                            \"value\": \"$.getUniqueRecord.name\"\n                        },\n                        \"dbGroupKeys\": {\n                            \"children\": [],\n                            \"name\": \"dbGroupKeys\",\n                            \"cname\": \"dbGroupKeys\",\n                            \"type\": \"array\",\n                            \"value\": \"$.getUniqueRecord.database.dbGroupKeys\"\n                        },\n                        \"tddlAppName\": {\n                            \"children\": [],\n                            \"name\": \"tddlAppName\",\n                            \"cname\": \"tddlAppName\",\n                            \"type\": \"string\",\n                            \"value\": \"$.getUniqueRecord.database.tddlAppName\"\n                        },\n                        \"_id\": {\n                            \"children\": [],\n                            \"name\": \"_id\",\n                            \"cname\": \"_id\",\n                            \"type\": \"string\",\n                            \"value\": \"$.getUniqueRecord._id\"\n                        },\n                        \"appCode\": {\n                            \"children\": [],\n                            \"name\": \"appCode\",\n                            \"cname\": \"appCode\",\n                            \"type\": \"string\",\n                            \"value\": \"$.getUniqueRecord.appCode\"\n                        },\n                        \"driverType\": {\n                            \"children\": [],\n                            \"name\": \"driverType\",\n                            \"cname\": \"driverType\",\n                            \"type\": \"string\",\n                            \"value\": \"$.getUniqueRecord.driverType\"\n                        },\n                        \"username\": {\n                            \"children\": [],\n                            \"name\": \"username\",\n                            \"cname\": \"username\",\n                            \"type\": \"string\",\n                            \"value\": \"$.getUniqueRecord.database.username\"\n                        }\n                    },\n                    \"name\": \"Form1Model\",\n                    \"cname\": \"Form1字段模型\"\n                },\n                \"driverTypeModel\": {\n                    \"field\": {},\n                    \"name\": \"driverTypeModel\",\n                    \"cname\": \"driverType字段模型\"\n                },\n                \"Form2Model\": {\n                    \"field\": {},\n                    \"name\": \"Form2Model\",\n                    \"cname\": \"Form2字段模型\"\n                },\n                \"_PageParam_\": {\n                    \"field\": {},\n                    \"reserved\": true,\n                    \"name\": \"_PageParam_\",\n                    \"cname\": \"页面参数\"\n                },\n                \"appCodeModel\": {\n                    \"field\": {},\n                    \"name\": \"appCodeModel\",\n                    \"cname\": \"appCode字段模型\"\n                }\n            },\n            \"data\": {\n                \"FieldRequired\": {\n                    \"data\": {}\n                },\n                \"driverTypeDs\": {\n                    \"data\": [],\n                    \"type\": \"driverTypeModel\"\n                },\n                \"Form1Ds\": {\n                    \"data\": {},\n                    \"type\": \"Form1Model\"\n                },\n                \"Form2Ds\": {\n                    \"data\": {},\n                    \"type\": \"Form2Model\"\n                },\n                \"_pageParam_\": {\n                    \"data\": {},\n                    \"reserved\": true,\n                    \"type\": \"_PageParam_\"\n                },\n                \"appProperties\": {\n                    \"data\": {}\n                }\n            },\n            \"request\": {\n                \"appProperties/query\": {\n                    \"code\": \"getAppByCode\",\n                    \"data\": {\n                        \"code\": \"${data(\\\"_pageParam_|appCode\\\")}\"\n                    },\n                    \"success\": \"(function wrapped(){ //$src$=$function success(resp) {\\\\n  return (resp.properties || []).map(p => ({\\\\n    value: '${' + p.name + '}',\\\\n    label: p.name,\\\\n  }));  \\\\n}$//\\n var _output_ = function success(resp) {\\n  return (resp.properties || []).map(function (p) {\\n    return {\\n      value: '${' + p.name + '}',\\n      label: p.name\\n    };\\n  });\\n};; return _output_;})()\",\n                    \"name\": \"appProperties/query\",\n                    \"appCode\": \"epoch\",\n                    \"type\": \"service\"\n                },\n                \"Form1Ds/query\": {\n                    \"serviceType\": \"api\",\n                    \"code\": \"epoch_app_data_source_get\",\n                    \"data\": {\n                        \"code\": \"${data(\\\"_pageParam_|code\\\")}\",\n                        \"appCode\": \"${data(\\\"_pageParam_|appCode\\\")}\"\n                    },\n                    \"success\": \"(function wrapped(){ //$src$=$function success(resp) {\\\\n\\\\n  if (resp.server && resp.server.indexOf(\\\"${\\\") === 0 && resp.server.indexOf(\\\"}\\\") >= 0) {\\\\n    this.getData('Form2Ds').switchServer = true;\\\\n  }\\\\n  if (resp.databaseName && resp.databaseName.indexOf(\\\"${\\\") === 0 && resp.databaseName.indexOf(\\\"}\\\") >= 0) {\\\\n    this.getData('Form2Ds').switchDatabaseName = true;\\\\n  }\\\\n  if (resp.username && resp.username.indexOf(\\\"${\\\") === 0 && resp.username.indexOf(\\\"}\\\") >= 0) {\\\\n    this.getData('Form2Ds').switchUsername = true;\\\\n  }\\\\n  if (resp.port && resp.port.indexOf(\\\"${\\\") === 0 && resp.port.indexOf(\\\"}\\\") >= 0) {\\\\n    this.getData('Form2Ds').switchPort = true;\\\\n  }\\\\n\\\\n\\\\n  if (resp.tddlAppName && resp.tddlAppName.indexOf(\\\"${\\\") === 0 && resp.tddlAppName.indexOf(\\\"}\\\") >= 0) {\\\\n    this.getData('Form2Ds').switchTDDLAppName = true;\\\\n  }\\\\n  if (resp.dbGroupKeys && resp.dbGroupKeys.length > 0 && resp.dbGroupKeys[0].indexOf(\\\"${\\\") === 0 && resp.dbGroupKeys[0].indexOf(\\\"}\\\") >= 0) {\\\\n    this.getData('Form2Ds').switchDBGroupKeys = true;\\\\n  }\\\\n\\\\n\\\\n  if (!resp.username) {\\\\n    this.getData('Form2Ds').hasPasswordOfOld = false;\\\\n  } else {\\\\n    this.getData('Form2Ds').hasPasswordOfOld = true;\\\\n  }\\\\n\\\\n  let fieldRequired;\\\\n\\\\n  if (resp.dbType === 'mongo' || resp.dbType === 'rds' || resp.dbType === 'drds') {\\\\n    fieldRequired = {\\\\n      databaseName: true,\\\\n      server: true,\\\\n      port: true,\\\\n      username: true,\\\\n      password: true\\\\n    };\\\\n  } else if (resp.dbType === 'tddl') {\\\\n    fieldRequired = {\\\\n      tddlAppName: true,\\\\n      dbGroupKeys: true\\\\n    };\\\\n  } else if (resp.dbType === 'elasticsearch') {\\\\n    fieldRequired = {\\\\n      server: true,\\\\n      port: true,\\\\n      username: true,\\\\n      password: true\\\\n    };\\\\n  } else {\\\\n    fieldRequired = {};\\\\n  }\\\\n  this.setData(\\\"FieldRequired\\\", fieldRequired);\\\\n  this.forceRender();\\\\n\\\\n  return resp;\\\\n}$//\\n var _output_ = function success(resp) {\\n\\n  if (resp.server && resp.server.indexOf(\\\"${\\\") === 0 && resp.server.indexOf(\\\"}\\\") >= 0) {\\n    this.getData('Form2Ds').switchServer = true;\\n  }\\n  if (resp.databaseName && resp.databaseName.indexOf(\\\"${\\\") === 0 && resp.databaseName.indexOf(\\\"}\\\") >= 0) {\\n    this.getData('Form2Ds').switchDatabaseName = true;\\n  }\\n  if (resp.username && resp.username.indexOf(\\\"${\\\") === 0 && resp.username.indexOf(\\\"}\\\") >= 0) {\\n    this.getData('Form2Ds').switchUsername = true;\\n  }\\n  if (resp.port && resp.port.indexOf(\\\"${\\\") === 0 && resp.port.indexOf(\\\"}\\\") >= 0) {\\n    this.getData('Form2Ds').switchPort = true;\\n  }\\n\\n  if (resp.tddlAppName && resp.tddlAppName.indexOf(\\\"${\\\") === 0 && resp.tddlAppName.indexOf(\\\"}\\\") >= 0) {\\n    this.getData('Form2Ds').switchTDDLAppName = true;\\n  }\\n  if (resp.dbGroupKeys && resp.dbGroupKeys.length > 0 && resp.dbGroupKeys[0].indexOf(\\\"${\\\") === 0 && resp.dbGroupKeys[0].indexOf(\\\"}\\\") >= 0) {\\n    this.getData('Form2Ds').switchDBGroupKeys = true;\\n  }\\n\\n  if (!resp.username) {\\n    this.getData('Form2Ds').hasPasswordOfOld = false;\\n  } else {\\n    this.getData('Form2Ds').hasPasswordOfOld = true;\\n  }\\n\\n  var fieldRequired = void 0;\\n\\n  if (resp.dbType === 'mongo' || resp.dbType === 'rds' || resp.dbType === 'drds') {\\n    fieldRequired = {\\n      databaseName: true,\\n      server: true,\\n      port: true,\\n      username: true,\\n      password: true\\n    };\\n  } else if (resp.dbType === 'tddl') {\\n    fieldRequired = {\\n      tddlAppName: true,\\n      dbGroupKeys: true\\n    };\\n  } else if (resp.dbType === 'elasticsearch') {\\n    fieldRequired = {\\n      server: true,\\n      port: true,\\n      username: true,\\n      password: true\\n    };\\n  } else {\\n    fieldRequired = {};\\n  }\\n  this.setData(\\\"FieldRequired\\\", fieldRequired);\\n  this.forceRender();\\n\\n  return resp;\\n};; return _output_;})()\",\n                    \"name\": \"Form1Ds/query\",\n                    \"appCode\": \"epoch\",\n                    \"type\": \"service\"\n                },\n                \"aKEocboq/update\": {\n                    \"serviceType\": \"api\",\n                    \"code\": \"epoch_app_data_source_update\",\n                    \"processData\": true,\n                    \"data\": \"(function wrapped(){ //$src$=$/**\\\\n* 请求类型为服务时返回数组，否则返回参数Object\\\\n*/\\\\nfunction processData(data) {\\\\n\\\\n  let newData;\\\\n  if (data.dbType === 'mongo' || data.dbType === 'rds' || data.dbType === 'drds') {\\\\n    if (data.password && data.password.trim()) {\\\\n      newData = {\\\\n        database: {\\\\n          server: data.server,\\\\n          port: data.port,\\\\n          databaseName: data.databaseName,\\\\n          username: data.username,\\\\n          password: data.password,\\\\n        },\\\\n        updatePassword: 1,\\\\n      }\\\\n    } else {\\\\n      newData = {\\\\n        database: {\\\\n          server: data.server,\\\\n          port: data.port,\\\\n          databaseName: data.databaseName,\\\\n          username: data.username,\\\\n        },\\\\n        updatePassword: 0,\\\\n      }\\\\n    }\\\\n\\\\n  } else if (data.dbType === 'tddl') {\\\\n    newData = {\\\\n      database: {\\\\n        tddlAppName: data.tddlAppName,\\\\n        dbGroupKeys: data.dbGroupKeys\\\\n      },\\\\n      updatePassword: 0\\\\n    }\\\\n  } else if (data.dbType === 'elasticsearch') {\\\\n    newData = {\\\\n      code: data.code,\\\\n      name: data.name,\\\\n      appCode: data.appCode,\\\\n      dbType: 'elasticsearch',\\\\n      database: {\\\\n        server: data.server,\\\\n        port: data.port,\\\\n        username: data.username,\\\\n        password: data.password\\\\n      },\\\\n      datasourceDBType: 'elasticsearch'\\\\n    };\\\\n  }\\\\n\\\\n  newData._id = data._id;\\\\n  newData.code = data.code;\\\\n  newData.name = data.name;\\\\n  if (data.dbType === 'mongo') {\\\\n    newData.driverType = 'mongo';\\\\n  } else if (data.dbType === 'elasticsearch') {\\\\n    newData.driverType = 'elasticsearch';\\\\n  } else {\\\\n    newData.driverType = 'mysql';\\\\n  }\\\\n  newData.dbType = data.dbType;\\\\n  newData.appCode = data.appCode;\\\\n  newData.active = data.active;\\\\n  newData.branchId = data.branchId;\\\\n\\\\n  return newData;\\\\n}$//\\n var _output_ = function processData(data) {\\n\\n  var newData = void 0;\\n  if (data.dbType === 'mongo' || data.dbType === 'rds' || data.dbType === 'drds') {\\n    if (data.password && data.password.trim()) {\\n      newData = {\\n        database: {\\n          server: data.server,\\n          port: data.port,\\n          databaseName: data.databaseName,\\n          username: data.username,\\n          password: data.password\\n        },\\n        updatePassword: 1\\n      };\\n    } else {\\n      newData = {\\n        database: {\\n          server: data.server,\\n          port: data.port,\\n          databaseName: data.databaseName,\\n          username: data.username\\n        },\\n        updatePassword: 0\\n      };\\n    }\\n  } else if (data.dbType === 'tddl') {\\n    newData = {\\n      database: {\\n        tddlAppName: data.tddlAppName,\\n        dbGroupKeys: data.dbGroupKeys\\n      },\\n      updatePassword: 0\\n    };\\n  } else if (data.dbType === 'elasticsearch') {\\n    newData = {\\n      code: data.code,\\n      name: data.name,\\n      appCode: data.appCode,\\n      dbType: 'elasticsearch',\\n      database: {\\n        server: data.server,\\n        port: data.port,\\n        username: data.username,\\n        password: data.password\\n      },\\n      datasourceDBType: 'elasticsearch'\\n    };\\n  }\\n\\n  newData._id = data._id;\\n  newData.code = data.code;\\n  newData.name = data.name;\\n  if (data.dbType === 'mongo') {\\n    newData.driverType = 'mongo';\\n  } else if (data.dbType === 'elasticsearch') {\\n    newData.driverType = 'elasticsearch';\\n  } else {\\n    newData.driverType = 'mysql';\\n  }\\n  newData.dbType = data.dbType;\\n  newData.appCode = data.appCode;\\n  newData.active = data.active;\\n  newData.branchId = data.branchId;\\n\\n  return newData;\\n};; return _output_;})()\",\n                    \"success\": \"function success(resp) {\\n  return resp;  \\n}\",\n                    \"appCode\": \"epoch\",\n                    \"type\": \"service\"\n                },\n                \"dkPKCSTu/testDataSource\": {\n                    \"serviceType\": \"api\",\n                    \"code\": \"testDataSource\",\n                    \"processData\": false,\n                    \"success\": \"function success(resp) {\\n  return resp;  \\n}\",\n                    \"appCode\": \"epoch\",\n                    \"type\": \"service\"\n                },\n                \"driverTypeDs/query\": {\n                    \"serviceType\": \"enum\",\n                    \"data\": {},\n                    \"fieldCode\": \"driverType\",\n                    \"name\": \"driverTypeDs/query\",\n                    \"tableCode\": \"epoch_app_data_source\",\n                    \"appCode\": \"epoch\",\n                    \"type\": \"service\"\n                }\n            },\n            \"rule\": [],\n            \"style\": \"\",\n            \"action\": \"(function(exports) {'use strict';\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n    value: true\\n});\\nexports.didMount = didMount;\\nexports.onChangeDriverType = onChangeDriverType;\\nexports.onClickTestConn = onClickTestConn;\\nexports.onSwitchDatabaseName = onSwitchDatabaseName;\\nexports.onSwitchServer = onSwitchServer;\\nexports.onSwitchUsername = onSwitchUsername;\\nexports.onSwitchPassword = onSwitchPassword;\\nexports.onSwitchTddlAppName = onSwitchTddlAppName;\\nexports.onSwitchDbGroupKeys = onSwitchDbGroupKeys;\\nexports.onSwitchPort = onSwitchPort;\\nfunction didMount() {}\\n\\nfunction onChangeDriverType(v) {\\n    if ((v === 'mongo' || v === 'rds' || v === 'drds') && !this.getData('Form2Ds').hasPasswordOfOld) {\\n        this.getData('Form2Ds').requirePassword = true;\\n    } else {\\n        this.getData('Form2Ds').requirePassword = false;\\n    }\\n\\n    var fieldRequired = void 0;\\n    if (v === 'mongo' || v === 'rds' || v === 'drds') {\\n        fieldRequired = {\\n            databaseName: true,\\n            server: true,\\n            port: true,\\n            username: true,\\n            password: true\\n        };\\n    } else if (v === 'tddl') {\\n        fieldRequired = {\\n            tddlAppName: true,\\n            dbGroupKeys: true\\n        };\\n    } else if (v === 'elasticsearch') {\\n        fieldRequired = {\\n            server: true,\\n            port: true,\\n            username: true,\\n            password: true\\n        };\\n    } else {\\n        fieldRequired = {};\\n    }\\n    this.setData(\\\"FieldRequired\\\", fieldRequired);\\n    this.forceRender();\\n\\n    return v;\\n}\\n\\nfunction onClickTestConn() {\\n    var _this = this;\\n\\n    this.setComponentProp(\\\"dkPKCSTu.loading\\\", true);\\n    this.forceRender();\\n\\n    var dbType = this.getData('Form1Ds').dbType;\\n\\n    if (!dbType) {\\n        this.ui.showDialog({ title: '失败', content: '请选择数据源类型' });\\n    } else {\\n        var request = {\\n            _id: this.getData('_pageParam_')._id,\\n            server: this.getData('Form1Ds').server,\\n            port: this.getData('Form1Ds').port,\\n            databaseName: this.getData('Form1Ds').databaseName,\\n            username: this.getData('Form1Ds').username,\\n            password: this.getData('Form1Ds').password,\\n            tddlAppName: this.getData('Form1Ds').tddlAppName,\\n            dbGroupKeys: this.getData('Form1Ds').dbGroupKeys,\\n            appCode: this.getData('Form1Ds').appCode,\\n            sourceType: 'app',\\n            dbType: dbType\\n        };\\n\\n        this.executeRequest('dkPKCSTu/testDataSource', request).then(function (resp) {\\n            if (resp && resp.result === true) {\\n                _this.ui.showDialog({ content: '连接成功', type: \\\"alert\\\" });\\n            } else {\\n                _this.ui.showDialog({ title: '连接失败', content: resp.failReason || resp.errorMessage, type: \\\"alert\\\" });\\n            }\\n            _this.setComponentProp(\\\"dkPKCSTu.loading\\\", false);\\n            _this.forceRender();\\n        });\\n    }\\n}\\n\\nfunction onSwitchDatabaseName() {\\n    this.getData('Form1Ds').databaseName = '';\\n}\\n\\nfunction onSwitchServer() {\\n    this.getData('Form1Ds').server = '';\\n}\\n\\nfunction onSwitchUsername() {\\n    this.getData('Form1Ds').username = '';\\n}\\n\\nfunction onSwitchPassword() {\\n    this.getData('Form1Ds').password = '';\\n}\\n\\nfunction onSwitchTddlAppName() {\\n    this.getData('Form1Ds').tddlAppName = '';\\n}\\n\\nfunction onSwitchDbGroupKeys() {\\n    this.getData('Form1Ds').dbGroupKeys = [];\\n}\\n\\nfunction onSwitchPort() {\\n    this.getData('Form1Ds').port = '';\\n};return exports;})({})\",\n            \"actionSrc\": \"/* 在需要导出的方法前加上export，方法内this指向上下文Context */\\n\\n/**\\n*  生命周期 - 页面挂载时\\n*/\\nexport function didMount() {\\n  \\n}\\n\\nexport function onChangeDriverType(v) {\\n    if ((v === 'mongo' || v === 'rds' || v === 'drds') && !this.getData('Form2Ds').hasPasswordOfOld) {\\n        this.getData('Form2Ds').requirePassword = true;\\n    } else {\\n        this.getData('Form2Ds').requirePassword = false;\\n    }\\n\\n    let fieldRequired;\\n    if (v === 'mongo' || v === 'rds' || v === 'drds') {\\n        fieldRequired = {\\n            databaseName: true,\\n            server: true,\\n            port: true,\\n            username: true,\\n            password: true\\n        };\\n    } else if (v === 'tddl') {\\n        fieldRequired = {\\n            tddlAppName: true,\\n            dbGroupKeys: true\\n        };\\n    } else if (v === 'elasticsearch') {\\n        fieldRequired = {\\n            server: true,\\n            port: true,\\n            username: true,\\n            password: true\\n        };\\n    } else {\\n        fieldRequired = {};\\n    }\\n    this.setData(\\\"FieldRequired\\\", fieldRequired);\\n    this.forceRender();\\n\\n    return v;\\n}\\n\\nexport function onClickTestConn() {\\n    this.setComponentProp(\\\"dkPKCSTu.loading\\\", true);\\n    this.forceRender();\\n    \\n    let dbType = this.getData('Form1Ds').dbType;\\n    \\n    if (!dbType) {\\n        this.ui.showDialog({ title: '失败', content: '请选择数据源类型' });\\n    } else {\\n        let request = {\\n            _id: this.getData('_pageParam_')._id,\\n            server: this.getData('Form1Ds').server,\\n            port: this.getData('Form1Ds').port,\\n            databaseName: this.getData('Form1Ds').databaseName,\\n            username: this.getData('Form1Ds').username,\\n            password: this.getData('Form1Ds').password,\\n            tddlAppName: this.getData('Form1Ds').tddlAppName,\\n            dbGroupKeys: this.getData('Form1Ds').dbGroupKeys,\\n            appCode: this.getData('Form1Ds').appCode,\\n            sourceType: 'app',\\n            dbType: dbType\\n        };\\n        \\n        \\n        this.executeRequest('dkPKCSTu/testDataSource', request).then(resp => {\\n            if (resp && resp.result === true) {\\n                this.ui.showDialog({ content: '连接成功', type:\\\"alert\\\" });\\n            } else {\\n                this.ui.showDialog({ title: '连接失败', content: resp.failReason || resp.errorMessage, type: \\\"alert\\\" });\\n            }\\n            this.setComponentProp(\\\"dkPKCSTu.loading\\\", false);\\n            this.forceRender();\\n\\n        });\\n    \\n    }\\n}\\n\\nexport function onSwitchDatabaseName() {\\n    this.getData('Form1Ds').databaseName = '';\\n}\\n\\nexport function onSwitchServer() {\\n    this.getData('Form1Ds').server = '';\\n}\\n\\nexport function onSwitchUsername() {\\n    this.getData('Form1Ds').username = '';\\n}\\n\\nexport function onSwitchPassword() {\\n    this.getData('Form1Ds').password = '';\\n}\\n\\nexport function onSwitchTddlAppName() {\\n    this.getData('Form1Ds').tddlAppName = '';\\n}\\n\\nexport function onSwitchDbGroupKeys() {\\n    this.getData('Form1Ds').dbGroupKeys = [];\\n}\\n\\nexport function onSwitchPort() {\\n    this.getData('Form1Ds').port = '';\\n}\\n\\n\",\n            \"module\": {}\n        },\n        \"design\": {\n            \"actionList\": [\n                \"didMount\",\n                \"onChangeDriverType\",\n                \"onClickTestConn\",\n                \"onSwitchDatabaseName\",\n                \"onSwitchServer\",\n                \"onSwitchUsername\",\n                \"onSwitchPassword\",\n                \"onSwitchTddlAppName\",\n                \"onSwitchDbGroupKeys\",\n                \"onSwitchPort\"\n            ]\n        },\n        \"schemaType\": \"pc\",\n        \"componentName\": \"编辑应用数据源\"\n    },\n    \"css\": [],\n    \"depComponentCodes\": [],\n    \"depCssCodes\": [],\n    \"depJsCodes\": [],\n    \"extensible\": false,\n    \"groupId\": \"dataSource\",\n    \"js\": [],\n    \"overridable\": false,\n    \"pageType\": \"PC\",\n    \"relatedPermissions\": [],\n    \"slots\": [],\n    \"tableCode\": \"epoch_app_data_source\",\n    \"type\": \"page\",\n    \"code\": \"epoch_app_data_source_edit\",\n    \"name\": \"编辑应用数据源\",\n    \"appCode\": \"epoch\"\n}"
}